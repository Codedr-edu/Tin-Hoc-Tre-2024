<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar sticky-top bg-dark text-light">
        <div class="container">
            <a class="navbar-brand text-lg link-light" style="font-size: 30px;padding-top:5px;padding-bottom: 5px;">BDTeen</a>
          <div class="text-end justify-content-end align-items-end">
            <div class="columns">
            </div>
          </div>
        </div>
      </nav>
    <div class="container">
        <div class="columns h-100" style="margin-top:15px;">
            <div class="column is-one-quarter">
                <div style="position: sticky;position: -webkit-sticky;z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;">
                <a href="{% url 'online_class_view' id=hw.online_class.id %}" class="link-success"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                  </svg> Quay lại</a>
                    <h3 style="margin-bottom: 10px;">Xin chào! {{bio.user.username}}</h3>
                <button class="button is-primary is-fullwidth is-large" style="margin-bottom: 10px;" data-bs-toggle="modal" data-bs-target="#ask_gpteen_university"  class="btn btn-info w-100">GPTeen University</button>
                <a class="btn btn-primary btn-lg w-100" style="margin-bottom: 10px;">Điểm: {{bio.balance}}</a>
                <b>Phân trang</b>
                <ul style="padding-top: 5px;margin-bottom: 10px;">
                    <li><a href="{% url 'post' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Cộng đồng</a></li>
                    <li style="margin-top: 10px;"><a href="{% url 'question' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Hỏi đáp</a></li>
                    <li style="margin-top: 10px;"><a href="{% url 'document' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Tài liệu</a></li>
                    <li style="margin-top: 10px;"><a href="{% url 'quiz' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Quiz luyện tập</a></li>
                    <li style="margin-top: 10px;"><a href="{% url 'club_list_view' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Câu lạc bộ</a></li>
                    <li style="margin-top: 10px;"><a href="{% url 'online_class_list_view' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Lớp học online</a></li>
                </ul>
                <b>Về {{bio.user.username}}</b>
                <ul style="padding-top: 5px;margin-bottom: 10px;">
                    <li><a href="{% url 'your_profile' %}" class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Trang cá nhân</a></li>
                    <li style="margin-top: 10px;"><a class="button is-outlined is-rounded is-fullwidth" style="text-decoration: none;">Điểm & Vinh danh</a></li>
                </ul>
                <b>Khác</b>
                <ul style="padding-top: 5px;">
                    {% if bio.user.is_staff %}
                    <li><a href="{% url 'staff_index' %}" class="button is-success is-rounded is-fullwidth" style="text-decoration: none;">Trang Quản Trị Viên</a></li>
                    {% endif %}
                    <li style="margin-top: 10px;"><a href="{% url 'log_out' %}" class="button is-danger is-rounded is-fullwidth" style="text-decoration: none;">Đăng xuất</a></li>
                    <li style="margin-top: 10px;"><a class="button is-warning is-rounded is-fullwidth" style="text-decoration: none;">Hỗ trợ & Báo cáo sự cố kỹ thuật</a></li>
                </ul>
                </div>
            </div>
            <div class="column">
                <div class="has-background-primary-dark text-light" style="margin-bottom: 20px;border-radius: 10px;">
                    <div style="padding: 30px;">
                        <h1>Các bài tập đã nộp của lớp học mã {{hw.online_class.id}}</h1>
                        <p>Hãy đưa ra những nhận xét để người học cải thiện kết quả học tập nhé</p>
                    </div>
                </div>
                <div class="shadow-lg" style="background-color:whitesmoke;margin-bottom: 20px;border-radius: 10px;">
                    <div style="padding: 30px;">
                        <table class="table w-100 shadow rounded" style="border-radius: 20%;background: transparent;">
                            <thead>
                                <th class="text-dark">ID</th>
                                <th class="text-dark">Tên người học</th>
                                <th class="text-dark">Trạng thái</th>
                                <th class="text-dark">Xem chi tiết</th>
                            </thead>
                            <tbody>
                                {% if posts %}
                                    {% for post in posts %}
                                        <td>{{post.id}}</td>
                                        <td>{{post.user.user.username}}</td>
                                        {% if post.teacher_review %}
                                        <td>Đã nhận xét</td>
                                        {% else %}
                                        <td>Chưa nhận xét</td>
                                        {% endif %}
                                        <td><button data-bs-toggle="modal" data-bs-target="#view_{{post.id}}" class="link-success">Xem chi tiết</button></td>
                                        <div class="modal fade" id="view_{{post.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog modal-dialog-centered">
                                              <div class="modal-content">
                                                <div class="modal-header">
                                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                <a href="{% url 'download_done_homework_file' id=post.id %}" class="btn btn-success w-100" style="margin-bottom:10px;">Tải về file bài tập</a>
                                                  <h1 class="text-center">Nhận xét bài tập</h1>
                                                  {% if not post.teacher_review %}
                                                    <form action="{% url 'homework_review' id=post.id %}" method="post" enctype="multipart/form-data">
                                                      {% csrf_token %}
                                                        <div class="row" style="margin-bottom: 10px;">
                                                            <div class="col-lg align-self-center w-100">
                                                                <div class="d-lg-flex w-100">
                                                                    <textarea class="form-control" name="content" rows="5" cols="5"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                          <div class="col-lg align-items-center w-100">
                                                            <div class="d-lg-flex w-100">
                                                              <button type="submit" class="btn btn-success w-100"><i class="bi bi-send"></i></button>
                                                            </div>
                                                          </div>
                                                        </div>
                                                </form>
                                                {% else %}
                                                <div class="container">
                                                  {{post.teacher_review}}
                                                </div>
                                                {% endif %}
                                                </div>
                                              </div>
                                            </div>
                                            </div>
                                    {% endfor %}
                                    {% else %}
                                    <td colspan="4" class="text-center">Chưa có ai nộp bài</td>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="ask_gpteen" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <h1 class="text-center">Hỏi GPTeen</h1>
              <p>Bạn có thể hỏi GPTeen bằng các cách sau</p>
              <b>1. Văn bản</b>
                <form action="{% url 'ask_gpteen' %}" method="post" enctype="multipart/form-data" style="margin-bottom: 10px;">
                  {% csrf_token %}
                                <textarea placeholder="Nhập câu hỏi" rows="5" cols="5" name="gpteen" class="form-control w-100" style="margin-right: 10px;margin-bottom: 10px;"></textarea>
                                <button type="submit" class="btn btn-success w-100">Hỏi với 10 Teen</button>
            </form>
            <b>2. Ảnh</b>
            <form action="{% url 'gpteen_image' %}" method="post" enctype="multipart/form-data" style="margin-bottom: 10px;">
                {% csrf_token %}
                <input type="file" name="image" class="form-control w-100" style="margin-bottom: 10px;" />
                <button type="submit" class="btn btn-success w-100">Hỏi với 50 Teen</button>
            </form>
            <b>3. File tài liệu</b>
            <form action="{% url 'gpteen_document' %}" method="post" enctype="multipart/form-data" style="margin-bottom: 10px;">
                {% csrf_token %}
                <input type="file" name="doc" class="form-control w-100" style="margin-bottom: 10px;" />
                <button type="submit" class="btn btn-success w-100">Hỏi với 50 Teen</button>
            </form>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="ask_gpteen_university" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <h1 class="text-center">GPTeen University</h1>
              <p>Hãy để GPTeen cùng bạn tìm ra môi trường đại học phù hợp với năng lực của bạn.</p>
              <p style="color: red;">*Lưu ý: Điểm GPTeen xử lý được là điểm thi tốt nghiệp THPTQG của bạn theo thể thức khối ba môn. Bạn có thể xét bằng dữ liệu điểm khảo sát với thể thức tương tự</p>
            <form action="{% url 'gpteen_university' %}" method="post" enctype="multipart/form-data" style="margin-bottom: 10px;">
                {% csrf_token %}
                    <div style="margin-bottom: 10px;">
                      <label>Tổng điểm ba môn cộng lại</label>
                      <input type="text" name="total_score" class="form-control w-100" />
                    </div>
                    <div style="margin-bottom: 10px;">
                      <label>Mã khối</label>
                      <input type="text" name="category_code" class="form-control w-100" />
                    </div>
                    <div style="margin-bottom: 10px;">
                      <label>Nghề nghiệp mong muốn</label>
                      <input type="text" name="job" class="form-control w-100" />
                    </div>
                    <div style="margin-bottom: 10px;">
                      <label>Khu vực <span style="color: red;">*</span></label>
                          <select class="form-select" name="area">
                            <option value="Miền Bắc">Miền Bắc</option>
                            <option value="Miền Trung">Miền Trung</option>
                            <option value="Miền Nam">Miền Nam</option>
                          </select>
                    </div>
                <button type="submit" class="btn btn-success w-100">Hỏi với 100 Teen</button>
            </form>
            </div>
          </div>
        </div>
      </div>
</body>
</html>